{"ast":null,"code":"import _objectSpread from\"C:/Users/dell/Desktop/Info/Projects/RedditClient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/dell/Desktop/Info/Projects/RedditClient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{withStyles,IconButton,Button,Switch,ClickAwayListener,Grow,Paper,Popper,MenuItem,MenuList}from'@material-ui/core';import MoreVertIcon from'@material-ui/icons/MoreVert';import Brightness7Icon from'@material-ui/icons/Brightness7';import Brightness4Icon from'@material-ui/icons/Brightness4';import InfoIcon from'@material-ui/icons/Info';import RedditIcon from'@material-ui/icons/Reddit';import{useDispatch}from'react-redux';import{updateMode}from'../../../features/theme/themeSlice';import menuStyles from'./menu.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Menu=function Menu(_ref){var theme=_ref.theme,classes=_ref.classes;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),checked=_React$useState4[0],setChecked=_React$useState4[1];var btnRef=React.useRef(null);var dispatch=useDispatch();var handleToggle=function handleToggle(){setOpen(function(prevOpen){return!prevOpen;});};var handleClose=function handleClose(event){if(btnRef.current&&btnRef.current.contains(event.target)){return;}setOpen(false);};function handleListKeyDown(event){if(event.key==='Tab'){event.preventDefault();setOpen(false);}}var prevOpen=React.useRef(open);React.useEffect(function(){if(prevOpen.current===true&&open===false){btnRef.current.focus();}prevOpen.current=open;},[open]);var handleModeSwitch=function handleModeSwitch(){var prev=localStorage.getItem('material-ui-theme');if(prev){var newMode=JSON.parse(prev);dispatch(updateMode(!newMode));localStorage.setItem('material-ui-theme',JSON.stringify(!newMode));}else{var _newMode=!theme;localStorage.setItem('material-ui-theme',JSON.stringify(_newMode));dispatch(updateMode(_newMode));}setChecked(function(prevVal){return!prevVal;});};return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(IconButton,{ref:btnRef,\"aria-label\":\"more\",\"aria-controls\":open?'menu-list':undefined,\"aria-haspopup\":\"true\",onClick:handleToggle,children:/*#__PURE__*/_jsx(MoreVertIcon,{})}),/*#__PURE__*/_jsx(Popper,{open:open,anchorEl:btnRef.current,role:undefined,placement:\"bottom-end\",transition:true,disablePortal:true,children:function children(_ref2){var TransitionProps=_ref2.TransitionProps,placement=_ref2.placement;return/*#__PURE__*/_jsx(Grow,_objectSpread(_objectSpread({},TransitionProps),{},{style:{transformOrigin:placement==='bottom'?'center top':'center bottom'},children:/*#__PURE__*/_jsx(Paper,{className:classes.paper,children:/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleClose,children:/*#__PURE__*/_jsxs(MenuList,{autoFocusItem:open,id:\"menu-list\",onKeyDown:handleListKeyDown,children:[/*#__PURE__*/_jsx(MenuItem,{className:classes.itemTitle,disabled:true,dense:true,children:\"op\\u021Biuni\"}),/*#__PURE__*/_jsxs(MenuItem,{className:classes.item,onClick:handleModeSwitch,children:[/*#__PURE__*/_jsx(Button,{startIcon:theme?/*#__PURE__*/_jsx(Brightness7Icon,{}):/*#__PURE__*/_jsx(Brightness4Icon,{}),className:classes.button,size:\"small\",disabled:true,children:\"mod noapte\"}),/*#__PURE__*/_jsx(Switch,{checked:checked,color:\"default\",size:\"small\",inputProps:{'aria-label':'switch theme mode'}})]}),/*#__PURE__*/_jsx(MenuItem,{className:classes.itemTitle,disabled:true,dense:true,children:\"mai multe\"}),/*#__PURE__*/_jsx(MenuItem,{className:classes.item,component:\"a\",href:\"https://iuliagroza.github.io/contact/\",target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(InfoIcon,{}),className:classes.button,size:\"small\",disabled:true,children:\"Contact\"})}),/*#__PURE__*/_jsx(MenuItem,{className:classes.item,component:\"a\",href:\"https://www.reddit.com/\",target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(RedditIcon,{}),className:classes.button,size:\"small\",disabled:true,children:\"Reddit\"})})]})})})}));}})]})});};export default withStyles(menuStyles)(Menu);","map":{"version":3,"sources":["C:/Users/dell/Desktop/Info/Projects/RedditClient/src/components/Header/menu/index.tsx"],"names":["React","withStyles","IconButton","Button","Switch","ClickAwayListener","Grow","Paper","Popper","MenuItem","MenuList","MoreVertIcon","Brightness7Icon","Brightness4Icon","InfoIcon","RedditIcon","useDispatch","updateMode","menuStyles","Menu","theme","classes","useState","open","setOpen","checked","setChecked","btnRef","useRef","dispatch","handleToggle","prevOpen","handleClose","event","current","contains","target","handleListKeyDown","key","preventDefault","useEffect","focus","handleModeSwitch","prev","localStorage","getItem","newMode","JSON","parse","setItem","stringify","prevVal","root","undefined","TransitionProps","placement","transformOrigin","paper","itemTitle","item","button"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  withStyles,\n  IconButton,\n  Button,\n  Switch,\n  ClickAwayListener,\n  Grow,\n  Paper,\n  Popper,\n  MenuItem,\n  MenuList,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport InfoIcon from '@material-ui/icons/Info';\nimport RedditIcon from '@material-ui/icons/Reddit';\nimport { useDispatch } from 'react-redux';\nimport { updateMode } from '../../../features/theme/themeSlice';\nimport menuStyles, { IStyleProps } from './menu.styles';\n\ninterface IProps extends IStyleProps {\n  theme: boolean;\n}\n\nconst Menu: React.FC<IProps> = ({ theme, classes }) => {\n  const [open, setOpen] = React.useState<boolean>(false);\n  const [checked, setChecked] = React.useState<boolean>(false);\n  const btnRef = React.useRef<HTMLButtonElement | null>(null);\n  const dispatch = useDispatch();\n\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleClose = (event: React.MouseEvent<EventTarget>) => {\n    if (\n      btnRef.current &&\n      btnRef.current.contains(event.target as HTMLElement)\n    ) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  function handleListKeyDown(event: React.KeyboardEvent) {\n    if (event.key === 'Tab') {\n      event.preventDefault();\n      setOpen(false);\n    }\n  }\n\n  const prevOpen = React.useRef(open);\n  React.useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      btnRef.current!.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n\n  const handleModeSwitch = () => {\n    const prev = localStorage.getItem('material-ui-theme');\n\n    if (prev) {\n      const newMode = JSON.parse(prev);\n\n      dispatch(updateMode(!newMode));\n      localStorage.setItem('material-ui-theme', JSON.stringify(!newMode));\n    } else {\n      const newMode = !theme;\n\n      localStorage.setItem('material-ui-theme', JSON.stringify(newMode));\n      dispatch(updateMode(newMode));\n    }\n\n    setChecked((prevVal) => !prevVal);\n  };\n\n  return (\n    <div className={classes.root}>\n      <div>\n        <IconButton\n          ref={btnRef}\n          aria-label=\"more\"\n          aria-controls={open ? 'menu-list' : undefined}\n          aria-haspopup=\"true\"\n          onClick={handleToggle}\n        >\n          <MoreVertIcon />\n        </IconButton>\n        <Popper\n          open={open}\n          anchorEl={btnRef.current}\n          role={undefined}\n          placement=\"bottom-end\"\n          transition\n          disablePortal\n        >\n          {({ TransitionProps, placement }) => (\n            <Grow\n              {...TransitionProps}\n              style={{\n                transformOrigin:\n                  placement === 'bottom' ? 'center top' : 'center bottom',\n              }}\n            >\n              <Paper className={classes.paper}>\n                <ClickAwayListener onClickAway={handleClose}>\n                  <MenuList\n                    autoFocusItem={open}\n                    id=\"menu-list\"\n                    onKeyDown={handleListKeyDown}\n                  >\n                    <MenuItem className={classes.itemTitle} disabled dense>\n                      opțiuni\n                    </MenuItem>\n                    <MenuItem\n                      className={classes.item}\n                      onClick={handleModeSwitch}\n                    >\n                      <Button\n                        startIcon={\n                          theme ? <Brightness7Icon /> : <Brightness4Icon />\n                        }\n                        className={classes.button}\n                        size=\"small\"\n                        disabled\n                      >\n                        mod noapte\n                      </Button>\n                      <Switch\n                        checked={checked}\n                        color=\"default\"\n                        size=\"small\"\n                        inputProps={{\n                          'aria-label': 'switch theme mode',\n                        }}\n                      />\n                    </MenuItem>\n                    <MenuItem className={classes.itemTitle} disabled dense>\n                      mai multe\n                    </MenuItem>\n                    <MenuItem\n                      className={classes.item}\n                      component=\"a\"\n                      href=\"https://iuliagroza.github.io/contact/\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      <Button\n                        startIcon={<InfoIcon />}\n                        className={classes.button}\n                        size=\"small\"\n                        disabled\n                      >\n                        Contact\n                      </Button>\n                    </MenuItem>\n                    <MenuItem\n                      className={classes.item}\n                      component=\"a\"\n                      href=\"https://www.reddit.com/\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      <Button\n                        startIcon={<RedditIcon />}\n                        className={classes.button}\n                        size=\"small\"\n                        disabled\n                      >\n                        Reddit\n                      </Button>\n                    </MenuItem>\n                  </MenuList>\n                </ClickAwayListener>\n              </Paper>\n            </Grow>\n          )}\n        </Popper>\n      </div>\n    </div>\n  );\n};\n\nexport default withStyles(menuStyles)(Menu);\n"]},"metadata":{},"sourceType":"module"}